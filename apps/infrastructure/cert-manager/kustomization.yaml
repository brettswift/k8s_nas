apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # DNS-01 challenge (required - server is on private network)
  # HTTP-01 won't work because Let's Encrypt can't reach 10.0.0.20
  - clusterissuer.yaml
  - certificate.yaml
  # Secret sync automation (copies cert secret to all namespaces with ingresses)
  - cert-sync-serviceaccount.yaml
  - cert-sync-cronjob.yaml
  # Route53 credentials sync (copies route53-credentials to external-dns namespace)
  # - CronJob runs every 6 hours (scheduled sync)
  - route53-sync-cronjob.yaml
  # - ArgoCD hook runs on sync (immediate sync when changes are deployed)
  - route53-sync-hook.yaml
  # HTTP-01 challenge (won't work with private IP) - keeping for reference
  # - clusterissuer-http.yaml
  # - certificate-http.yaml

